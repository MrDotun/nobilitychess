<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coach Adekunle's Chess Corner</title>
    <link rel="stylesheet" href="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.10.3/chess.min.js"></script>
    
    <style>
        body { 
            background-color: #f4f4f4; 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            display: flex; 
            justify-content: center; 
            align-items: center;
            min-height: 100vh;
            margin: 0; 
        }
        #chess-game-zone { 
            max-width: 400px; 
            width: 95%; 
            text-align: center; 
            border: 6px solid #FFD700; 
            padding: 20px; 
            border-radius: 30px; 
            background-color: #001f3f; 
            color: white; 
            box-shadow: 0 15px 40px rgba(0,0,0,0.3); 
        }
        .stats-bar { 
            display: flex; 
            justify-content: space-around; 
            margin-bottom: 15px; 
            background: rgba(255, 255, 255, 0.1); 
            padding: 10px; 
            border-radius: 50px; 
            border: 2px solid #FFD700; 
            color: #FFD700; 
            font-weight: bold; 
        }
        #board { 
            width: 100%; 
            margin: 0 auto;
            border: 4px solid #722f37; 
            border-radius: 5px;
        }
        #puzzle-title { 
            color: #FFD700; 
            text-transform: uppercase; 
            margin: 15px 0; 
            font-size: 1.1em;
            letter-spacing: 1px;
        }
        .action-btns { 
            margin-top: 20px; 
            display: flex; 
            flex-direction: column; 
            gap: 12px; 
            align-items: center; 
        }
        button { 
            cursor: pointer; 
            border: none; 
            font-weight: bold; 
            text-transform: uppercase; 
            border-radius: 50px; 
            transition: transform 0.2s, opacity 0.2s;
        }
        button:active { transform: scale(0.95); }

        #hint-btn { 
            background-color: #722f37; 
            color: white; 
            width: 80%; 
            padding: 12px; 
            font-size: 0.9em; 
        }
        .nav-btns { 
            margin-top: 20px; 
            display: flex; 
            justify-content: space-between; 
            width: 100%;
        }
        .nav-btn { 
            background: #444; 
            color: white; 
            padding: 10px; 
            width: 45%; 
        }
        .coach-footer { 
            font-size: 0.85em; 
            color: #bdc3c7; 
            margin-top: 20px; 
            font-style: italic; 
        }
        /* Custom board square colors to match theme */
        .white-1e1d7 { background-color: #dee3e6; }
        .black-3c85d { background-color: #8ca2ad; }
    </style>
</head>
<body>

<div id="chess-game-zone">
    <div class="stats-bar">
        <div>üåü Stars: <span id="score-val">0</span></div>
        <div>üéñÔ∏è Level: <span id="level-val">1</span></div>
    </div>

    <h2 id="puzzle-title">Solving...</h2>
    
    <div id="board"></div>

    <div class="action-btns">
        <button id="hint-btn" onclick="showHint()">COACH'S HINT üí°</button>
    </div>

    <div class="nav-btns">
        <button class="nav-btn" onclick="prevPuzzle()">‚¨ÖÔ∏è PREV</button>
        <button class="nav-btn" onclick="nextPuzzle()" style="background:#722f37;">SKIP ‚û°Ô∏è</button>
    </div>

    <div class="coach-footer">Training by <b>Coach Adekunle Busayo</b></div>
</div>

<script>
    const puzzles = [
        { title: "Back Rank Mate", fen: "6k1/5ppp/8/8/8/8/8/3R2K1 w - - 0 1", hint: "The back rank is weak!", move: {from: 'd1', to: 'd8'} },
        { title: "Scholar's Mate", fen: "r1bqkb1r/pppp1ppp/2n2n2/4p2Q/2B1P3/8/PPPP1PPP/RNB1K1NR w KQkq - 0 1", hint: "Target the f7 pawn!", move: {from: 'h5', to: 'f7'} },
        { title: "Knight Fork", fen: "r3k2r/ppp1qppp/2n5/3p4/3P4/2N1PN2/PP3PPP/R1BQK2R w KQkq - 0 1", hint: "Attack the Queen and King simultaneously!", move: {from: 'c3', to: 'd5'} },
        { title: "Smothered Mate", fen: "6rk/5Npp/8/8/8/8/8/7K w - - 0 1", hint: "The King is trapped by its own pieces!", move: {from: 'f7', to: 'h6'} }
    ];

    let currentIdx = 0;
    let score = 0;
    let board = null;
    let game = new Chess();

    function onDrop(source, target) {
        const solution = puzzles[currentIdx].move;
        
        // Check if the move matches the solution
        if (source === solution.from && target === solution.to) {
            score += 1;
            document.getElementById('score-val').innerText = score;
            document.getElementById('level-val').innerText = Math.floor(score / 3) + 1;
            
            setTimeout(() => {
                alert("COACH IS PROUD! üèÖ Perfect Move.");
                nextPuzzle();
            }, 250);
        } else {
            alert("Not quite! Coach says: Try a different approach.");
            return 'snapback';
        }
    }

    function updateBoard() {
        const p = puzzles[currentIdx];
        document.getElementById('puzzle-title').innerText = p.title;
        game.load(p.fen);
        board.position(p.fen);
    }

    function showHint() {
        alert("üë®‚Äçüè´ COACH SAYS: " + puzzles[currentIdx].hint);
    }

    function nextPuzzle() {
        currentIdx = (currentIdx + 1) % puzzles.length;
        updateBoard();
    }

    function prevPuzzle() {
        currentIdx = (currentIdx - 1 + puzzles.length) % puzzles.length;
        updateBoard();
    }

    // Initialize Board
    const config = {
        draggable: true,
        position: 'start',
        onDrop: onDrop,
        pieceTheme: 'https://chessboardjs.com/img/chesspieces/wikipedia/{piece}.png'
    };
    
    board = Chessboard('board', config);
    updateBoard();

    // Handle window resize
    $(window).resize(board.resize);
</script>

</body>
</html>
