<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coach Adekunle Busayo's Chess Corner</title>
    <style>
        /* Theme: Navy Blue (#001f3f), Yellow (#FFD700), Wine (#722f37) */
        body { 
            background-color: #f4f4f4; 
            font-family: 'Segoe UI', Arial, sans-serif; 
            display: flex; 
            justify-content: center; 
            padding: 10px; 
            margin: 0;
        }
        
        #chess-game-zone { 
            max-width: 500px; 
            width: 100%; 
            text-align: center; 
            border: 6px solid #FFD700; 
            padding: 20px; 
            border-radius: 30px; 
            background-color: #001f3f; 
            color: white;
            box-shadow: 0 15px 40px rgba(0,0,0,0.3); 
            box-sizing: border-box;
        }

        .stats-bar { 
            display: flex; 
            justify-content: space-around; 
            margin-bottom: 15px; 
            background: rgba(255, 255, 255, 0.1); 
            padding: 10px; 
            border-radius: 50px; 
            border: 2px solid #FFD700; 
            color: #FFD700; 
            font-weight: bold;
        }

        #puzzle-title { 
            color: #FFD700; 
            margin: 10px 0; 
            font-size: 1.4em; 
            text-transform: uppercase; 
        }

        /* Fixed Board Container */
        .board-wrapper {
            position: relative;
            width: 100%;
            padding-bottom: 110%; /* Maintains aspect ratio */
            background: white;
            border: 5px solid #722f37;
            border-radius: 15px;
            overflow: hidden;
        }

        iframe { 
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        .action-btns { 
            margin-top: 20px; 
            display: flex; 
            flex-direction: column; 
            gap: 12px; 
            align-items: center; 
        }

        button { 
            cursor: pointer; 
            border: none; 
            transition: all 0.2s; 
            font-weight: bold; 
            text-transform: uppercase; 
        }

        #solved-btn { 
            background-color: #FFD700; 
            color: #001f3f; 
            width: 90%;
            padding: 15px; 
            border-radius: 50px; 
            font-size: 1.2em; 
            box-shadow: 0 5px #b8860b; 
        }

        #hint-btn { 
            background-color: #722f37; 
            color: white; 
            width: 70%;
            padding: 10px; 
            border-radius: 50px; 
            font-size: 0.9em; 
            box-shadow: 0 4px #4a1e24; 
        }

        .nav-btns { 
            margin-top: 20px; 
            display: flex; 
            justify-content: space-between; 
            border-top: 1px solid rgba(255,255,255,0.2); 
            padding-top: 15px; 
        }

        .nav-btn { 
            background: #555; 
            color: white; 
            padding: 8px 15px; 
            border-radius: 8px; 
            font-size: 0.8em; 
        }

        .coach-footer { 
            font-size: 0.8em; 
            color: #aaa; 
            margin-top: 15px; 
            font-style: italic; 
        }
    </style>
</head>
<body>

<div id="chess-game-zone">
    <div class="stats-bar">
        <div>üåü Stars: <span id="score-val">0</span>/50</div>
        <div>üéñÔ∏è Level: <span id="level-val">1</span></div>
    </div>

    <h2 id="puzzle-title">THE BACK RANK MATE</h2>

    <div class="board-wrapper">
        <iframe 
            id="chess-board" 
            src="https://lichess.org/training/frame/61343?theme=green&bg=light" 
            sandbox="allow-scripts allow-same-origin allow-forms"
            allowtransparency="true">
        </iframe>
    </div>

    <div class="action-btns">
        <button id="solved-btn" onclick="markSolved()">I SOLVED IT! ‚ú®</button>
        <button id="hint-btn" onclick="getCoachHint()">COACH'S HINT üí°</button>
    </div>

    <div class="nav-btns">
        <button class="nav-btn" onclick="changePuzzle(-1)">‚¨ÖÔ∏è PREV</button>
        <button class="nav-btn" onclick="changePuzzle(1)" style="background:#722f37;">SKIP ‚û°Ô∏è</button>
    </div>

    <div class="coach-footer">
        Training by <b>Coach Adekunle Busayo</b>
    </div>
</div>

<script>
    // Just a few examples for the list - add your full list here!
    const puzzles = [
        { id: "61343", title: "The Back Rank Mate", hint: "Check the last row! The King is trapped behind his own pawns." },
        { id: "vS1Nl", title: "Sneaky Knight Fork", hint: "Use your Knight to attack the King and Queen together!" },
        { id: "q8z4O", title: "The Skewer", hint: "Attack the King. When he moves, take the piece behind him!" },
        { id: "61444", title: "Scholar's Mate", hint: "Focus your attack on the weak f7 square!" }
    ];

    let currentIdx = 0;
    let score = parseInt(localStorage.getItem('chessScore')) || 0;

    function updateGame() {
        const p = puzzles[currentIdx];
        document.getElementById('puzzle-title').innerText = p.title.toUpperCase();
        // Updated URL string for maximum compatibility
        document.getElementById('chess-board').src = "https://lichess.org/training/frame/" + p.id + "?theme=green&bg=light";
        document.getElementById('score-val').innerText = score;
        document.getElementById('level-val').innerText = Math.floor(score / 5) + 1;
    }

    function markSolved() {
        score++;
        localStorage.setItem('chessScore', score);
        
        const btn = document.getElementById('solved-btn');
        btn.innerText = "COACH IS PROUD! üèÖ";
        btn.style.background = "#white";
        
        setTimeout(() => {
            btn.innerText = "I SOLVED IT! ‚ú®";
            btn.style.background = "#FFD700";
            changePuzzle(1);
        }, 1000);
    }

    function getCoachHint() {
        alert("üë®‚Äçüè´ COACH ADEKUNLE BUSAYO SAYS:\n\n\"" + puzzles[currentIdx].hint + "\"");
    }

    function changePuzzle(step) {
        currentIdx = (currentIdx + step + puzzles.length) % puzzles.length;
        updateGame();
    }

    // Initialize the first puzzle
    updateGame();
</script>

</body>
</html>
