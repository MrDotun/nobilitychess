<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coach Adekunle Busayo's Chess Corner</title>
    <style>
        /* Theme: Navy Blue (#001f3f), Yellow (#FFD700), Wine (#722f37) */
        body { 
            background-color: #f4f4f4; 
            font-family: 'Segoe UI', Arial, sans-serif; 
            display: flex; 
            justify-content: center; 
            padding: 10px; 
            margin: 0;
        }
        
        #chess-game-zone { 
            max-width: 500px; 
            width: 100%; 
            text-align: center; 
            border: 6px solid #FFD700; 
            padding: 20px; 
            border-radius: 30px; 
            background-color: #001f3f; 
            color: white;
            box-shadow: 0 15px 40px rgba(0,0,0,0.3); 
            box-sizing: border-box;
        }

        .stats-bar { 
            display: flex; 
            justify-content: space-around; 
            margin-bottom: 15px; 
            background: rgba(255, 255, 255, 0.1); 
            padding: 10px; 
            border-radius: 50px; 
            border: 2px solid #FFD700; 
            color: #FFD700; 
            font-weight: bold;
        }

        #puzzle-title { 
            color: #FFD700; 
            margin: 10px 0; 
            font-size: 1.4em; 
            text-transform: uppercase; 
            min-height: 1.5em;
        }

        .board-wrapper {
            position: relative;
            width: 100%;
            padding-bottom: 110%; /* Space for the board */
            background: #eee;
            border: 5px solid #722f37;
            border-radius: 15px;
            overflow: hidden;
        }

        iframe { 
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        .action-btns { 
            margin-top: 20px; 
            display: flex; 
            flex-direction: column; 
            gap: 12px; 
            align-items: center; 
        }

        button { 
            cursor: pointer; 
            border: none; 
            transition: all 0.2s; 
            font-weight: bold; 
            text-transform: uppercase; 
        }

        #solved-btn { 
            background-color: #FFD700; 
            color: #001f3f; 
            width: 90%;
            padding: 15px; 
            border-radius: 50px; 
            font-size: 1.2em; 
            box-shadow: 0 5px #b8860b; 
        }

        #hint-btn { 
            background-color: #722f37; 
            color: white; 
            width: 70%;
            padding: 10px; 
            border-radius: 50px; 
            font-size: 0.9em; 
            box-shadow: 0 4px #4a1e24; 
        }

        .nav-btns { 
            margin-top: 20px; 
            display: flex; 
            justify-content: space-between; 
            border-top: 1px solid rgba(255,255,255,0.2); 
            padding-top: 15px; 
        }

        .nav-btn { 
            background: #555; 
            color: white; 
            padding: 8px 15px; 
            border-radius: 8px; 
            font-size: 0.8em; 
        }

        .coach-footer { 
            font-size: 0.8em; 
            color: #aaa; 
            margin-top: 15px; 
            font-style: italic; 
        }
    </style>
</head>
<body>

<div id="chess-game-zone">
    <div class="stats-bar">
        <div>üåü Stars: <span id="score-val">0</span>/50</div>
        <div>üéñÔ∏è Level: <span id="level-val">1</span></div>
    </div>

    <h2 id="puzzle-title">LOADING...</h2>

    <div class="board-wrapper">
        <iframe 
            id="chess-board" 
            src="" 
            allowtransparency="true"
            sandbox="allow-scripts allow-same-origin allow-forms allow-presentation">
        </iframe>
    </div>

    <div class="action-btns">
        <button id="solved-btn" onclick="markSolved()">I SOLVED IT! ‚ú®</button>
        <button id="hint-btn" onclick="getCoachHint()">COACH'S HINT üí°</button>
    </div>

    <div class="nav-btns">
        <button class="nav-btn" onclick="changePuzzle(-1)">‚¨ÖÔ∏è PREV</button>
        <button class="nav-btn" onclick="changePuzzle(1)" style="background:#722f37;">SKIP ‚û°Ô∏è</button>
    </div>

    <div class="coach-footer">
        Training by <b>Coach Adekunle Busayo</b>
    </div>
</div>

<script>
    const puzzles = [
        { id: "61343", title: "The Back Rank Mate", hint: "Check the last row! The King is trapped behind his own pawns." },
        { id: "61444", title: "Scholar's Mate", hint: "Attack the f7 square!" },
        { id: "vS1Nl", title: "Knight Fork", hint: "Attack two pieces at once with your Knight!" },
        { id: "61250", title: "Smothered Mate", hint: "The King is trapped by his own pieces." },
        { id: "61262", title: "The Pin", hint: "Freeze a piece in place!" },
        { id: "61330", title: "Double Attack", hint: "One move, two threats." },
        { id: "61218", title: "Discovered Attack", hint: "Move one piece to reveal another's attack." },
        { id: "61233", title: "Deflection", hint: "Lead the defender away." },
        { id: "61280", title: "Remove the Guard", hint: "Take out the defender." },
        { id: "61312", title: "Queen Sacrifice", hint: "Give up the Queen to win the game!" },
        { id: "61365", title: "X-Ray Attack", hint: "Look through the opponent's pieces." },
        { id: "61400", title: "The Skewer", hint: "Hit the big piece, then the one behind it." },
        { id: "61450", title: "Windmill", hint: "A cycle of checks and captures!" },
        { id: "61510", title: "Greek Gift", hint: "Sacrifice on h7!" },
        { id: "61555", title: "Trapped Piece", hint: "No squares left for that piece." },
        { id: "61601", title: "Pawn Power", hint: "Push that pawn to promotion." },
        { id: "61688", title: "Double Check", hint: "The King must move!" },
        { id: "63045", title: "Anastasia's Mate", hint: "Rook and Knight combo." },
        { id: "63092", title: "Boden's Mate", hint: "The Bishops are crossing paths." },
        { id: "61211", title: "Long Range Spear", hint: "Attack from across the board." }
    ];

    let currentIdx = 0;
    let score = parseInt(localStorage.getItem('chessScore')) || 0;

    function updateGame() {
        const p = puzzles[currentIdx];
        document.getElementById('puzzle-title').innerText = p.title.toUpperCase();
        
        // FIXED URL: Using 'embed' and forced 'https'
        document.getElementById('chess-board').src = "https://lichess.org/training/embed/" + p.id + "?theme=green&bg=light";
        
        document.getElementById('score-val').innerText = score;
        document.getElementById('level-val').innerText = Math.floor(score / 5) + 1;
    }

    function markSolved() {
        score++;
        localStorage.setItem('chessScore', score);
        
        const btn = document.getElementById('solved-btn');
        btn.innerText = "COACH IS PROUD! üèÖ";
        btn.style.backgroundColor = "white"; 
        btn.style.color = "#001f3f";
        
        setTimeout(() => {
            btn.innerText = "I SOLVED IT! ‚ú®";
            btn.style.backgroundColor = "#FFD700";
            btn.style.color = "#001f3f";
            changePuzzle(1);
        }, 1200);
    }

    function getCoachHint() {
        alert("üë®‚Äçüè´ COACH ADEKUNLE BUSAYO SAYS:\n\n\"" + puzzles[currentIdx].hint + "\"");
    }

    function changePuzzle(step) {
        currentIdx = (currentIdx + step + puzzles.length) % puzzles.length;
        updateGame();
    }

    updateGame();
</script>
</body>
</html>
